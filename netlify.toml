# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]

  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "dist"

  # Default build command.
  command = "npm run build"
  functions = "/netlify_functions"

[build.environment]
  GRIDSOME_BROWSER_ENV = "prod"
  ENV = "prod"
  WP_API_URL = "http://rabbit.local/wp-json"
  SITE_URL = "http://rabbit.netlify.app"
  WP_URL = "http://rabbit.local"
  IMAGE_URL = "https://vdillyprod.tech/rabbit/admin"
[context.branch-deploy.environment]
  GRIDSOME_SITE_URL = "https://rabbit.netlify.app"

# Redirects and headers are GLOBAL for all builds â€“ they do not get scoped to
# contexts no matter where you define them in the file.
# For context-specific rules, use _headers or _redirects files, which are
# PER-DEPLOY.

# A basic redirect rule
#[[redirects]]
#  from = "/*"
#  to = "/blog/:splat"
#
# A redirect rule with all the supported properties
#[[redirects]]
#  from = "/old-path"
#  to = "/new-path"
#
#  # Redirect based on browser language, geolocation, and/or identity role.
#  conditions = {Language = ["en"], Country = ["US"]}